// Automatic FlutterFlow imports
import '/backend/schema/structs/index.dart';
import '/backend/supabase/supabase.dart';
import '/flutter_flow/flutter_flow_theme.dart';
import '/flutter_flow/flutter_flow_util.dart';
import 'index.dart'; // Imports other custom actions
import '/flutter_flow/custom_functions.dart'; // Imports custom functions
import 'package:flutter/material.dart';
// Begin custom action code
// DO NOT REMOVE OR MODIFY THE CODE ABOVE!

// تابع ياخذ اسبوع الحمل ويظهر الفحوصات المطلوبة له

Future newCustomAction() async {
  // Get current pregnancy week from app state
  int currentWeek = FFAppState().week;

  // Define required tests for each week of pregnancy
  Map<int, List<String>> pregnancyTests = {
    1: ['فحص الحمل', 'فحص الدم الشامل'],
    2: ['فحص الحمل', 'فحص الدم الشامل'],
    3: ['فحص الحمل', 'فحص الدم الشامل'],
    4: ['فحص الحمل', 'فحص الدم الشامل', 'فحص البول'],
    5: ['فحص الدم الشامل', 'فحص البول', 'فحص الضغط'],
    6: ['فحص الدم الشامل', 'فحص البول', 'فحص الضغط', 'فحص الوزن'],
    7: ['فحص الدم الشامل', 'فحص البول', 'فحص الضغط', 'فحص الوزن'],
    8: [
      'فحص الدم الشامل',
      'فحص البول',
      'فحص الضغط',
      'فحص الوزن',
      'فحص السونار الأول'
    ],
    9: ['فحص الدم الشامل', 'فحص البول', 'فحص الضغط', 'فحص الوزن'],
    10: ['فحص الدم الشامل', 'فحص البول', 'فحص الضغط', 'فحص الوزن'],
    11: [
      'فحص الدم الشامل',
      'فحص البول',
      'فحص الضغط',
      'فحص الوزن',
      'فحص الشفافية القفوية'
    ],
    12: [
      'فحص الدم الشامل',
      'فحص البول',
      'فحص الضغط',
      'فحص الوزن',
      'فحص الشفافية القفوية'
    ],
    13: ['فحص الدم الشامل', 'فحص البول', 'فحص الضغط', 'فحص الوزن'],
    14: ['فحص الدم الشامل', 'فحص البول', 'فحص الضغط', 'فحص الوزن'],
    15: [
      'فحص الدم الشامل',
      'فحص البول',
      'فحص الضغط',
      'فحص الوزن',
      'فحص الثلاثي'
    ],
    16: [
      'فحص الدم الشامل',
      'فحص البول',
      'فحص الضغط',
      'فحص الوزن',
      'فحص الثلاثي'
    ],
    17: ['فحص الدم الشامل', 'فحص البول', 'فحص الضغط', 'فحص الوزن'],
    18: [
      'فحص الدم الشامل',
      'فحص البول',
      'فحص الضغط',
      'فحص الوزن',
      'فحص السونار التفصيلي'
    ],
    19: ['فحص الدم الشامل', 'فحص البول', 'فحص الضغط', 'فحص الوزن'],
    20: [
      'فحص الدم الشامل',
      'فحص البول',
      'فحص الضغط',
      'فحص الوزن',
      'فحص السونار التفصيلي'
    ],
    21: ['فحص الدم الشامل', 'فحص البول', 'فحص الضغط', 'فحص الوزن'],
    22: ['فحص الدم الشامل', 'فحص البول', 'فحص الضغط', 'فحص الوزن'],
    23: ['فحص الدم الشامل', 'فحص البول', 'فحص الضغط', 'فحص الوزن'],
    24: ['فحص الدم الشامل', 'فحص البول', 'فحص الضغط', 'فحص الوزن', 'فحص السكر'],
    25: ['فحص الدم الشامل', 'فحص البول', 'فحص الضغط', 'فحص الوزن'],
    26: ['فحص الدم الشامل', 'فحص البول', 'فحص الضغط', 'فحص الوزن'],
    27: ['فحص الدم الشامل', 'فحص البول', 'فحص الضغط', 'فحص الوزن'],
    28: [
      'فحص الدم الشامل',
      'فحص البول',
      'فحص الضغط',
      'فحص الوزن',
      'فحص الأجسام المضادة'
    ],
    29: ['فحص الدم الشامل', 'فحص البول', 'فحص الضغط', 'فحص الوزن'],
    30: ['فحص الدم الشامل', 'فحص البول', 'فحص الضغط', 'فحص الوزن'],
    31: ['فحص الدم الشامل', 'فحص البول', 'فحص الضغط', 'فحص الوزن'],
    32: [
      'فحص الدم الشامل',
      'فحص البول',
      'فحص الضغط',
      'فحص الوزن',
      'فحص السونار'
    ],
    33: ['فحص الدم الشامل', 'فحص البول', 'فحص الضغط', 'فحص الوزن'],
    34: ['فحص الدم الشامل', 'فحص البول', 'فحص الضغط', 'فحص الوزن'],
    35: [
      'فحص الدم الشامل',
      'فحص البول',
      'فحص الضغط',
      'فحص الوزن',
      'فحص المكورات العقدية'
    ],
    36: [
      'فحص الدم الشامل',
      'فحص البول',
      'فحص الضغط',
      'فحص الوزن',
      'فحص السونار'
    ],
    37: [
      'فحص الدم الشامل',
      'فحص البول',
      'فحص الضغط',
      'فحص الوزن',
      'فحص السونار'
    ],
    38: [
      'فحص الدم الشامل',
      'فحص البول',
      'فحص الضغط',
      'فحص الوزن',
      'فحص السونار'
    ],
    39: [
      'فحص الدم الشامل',
      'فحص البول',
      'فحص الضغط',
      'فحص الوزن',
      'فحص السونار'
    ],
    40: [
      'فحص الدم الشامل',
      'فحص البول',
      'فحص الضغط',
      'فحص الوزن',
      'فحص السونار',
      'مراقبة الجنين'
    ],
  };

  // Get required tests for current week
  List<String> requiredTests =
      pregnancyTests[currentWeek] ?? ['لا توجد فحوصات محددة لهذا الأسبوع'];

  // Display the tests in a dialog or return them
  print('الفحوصات المطلوبة للأسبوع $currentWeek من الحمل:');
  for (String test in requiredTests) {
    print('- $test');
  }

  return requiredTests;
}
